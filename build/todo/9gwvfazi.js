/*! Built with http://stenciljs.com */
todo.loadComponents("9gwvfazi",function(t,o,e,i,n){function r(){for(var t="",o=0;o<32;o++){var e=16*Math.random()|0;8!==o&&12!==o&&16!==o&&20!==o||(t+="-"),t+=(12===o?4:16===o?3&e|8:e).toString(16)}return t}var d=function(){return function(t,o){void 0===o&&(o=!1),this.title=t,this.completed=o,this.id=r()}}(),c=function(){function t(){this.todos=[]}return t.prototype.add=function(t){return this.save(this.todos.concat(new d(t)))},t.prototype.edit=function(t){var o=this.todos.indexOf(t);return o>=0?this.save(this.todos.slice(0,o).concat([t],this.todos.slice(o+1))):this.todos},t.prototype.delete=function(t){var o=this.todos.indexOf(t);return o>=0?this.save(this.todos.slice(0,o).concat(this.todos.slice(o+1))):this.todos},t.prototype.clearCompleted=function(){return this.save(this.todos.filter(function(t){return!t.completed}))},t.prototype.load=function(){return window.localStorage?this.todos=JSON.parse(localStorage.getItem("todos-stencil")||"[]"):this.todos=[]},t.prototype.save=function(t){return window.localStorage&&localStorage.setItem("todos-stencil",JSON.stringify(t)),this.todos=t},t}(),l=function(){function t(){this.todoService=new c,this.todos=this.todoService.load(),this.filter="all"}return Object.defineProperty(t.prototype,"filteredTodos",{get:function(){switch(this.filter){case"active":return this.todos.filter(function(t){return!t.completed});case"completed":return this.todos.filter(function(t){return t.completed});default:return this.todos}},enumerable:!0,configurable:!0}),t.prototype.componentWillLoad=function(){this.updateFilterFromUrl(document.location.href)},t.prototype.render=function(){var t=this;return o("section",{c:{todoapp:!0}},o("header",{c:{header:!0}},o("h1",0,e("todos")),o("input",{c:{"new-todo":!0},o:{keyup:function(o){return t.onKeyUp(o)}},a:{placeholder:"What needs to be done?"},p:{autoComplete:"on",autoFocus:!0}})),o("todo-list",{p:{todos:this.filteredTodos}}),this.todos.length>0?o("todo-footer",{p:{todos:this.todos,filter:this.filter}}):null)},t.prototype.todoDeleted=function(t){this.todos=this.todoService.delete(t.detail)},t.prototype.todoEdited=function(t){this.todos=this.todoService.edit(t.detail)},t.prototype.onKeyUp=function(t){if(13===t.keyCode){var o=t.target;""!==o.value.trim()&&(this.todos=this.todoService.add(o.value),o.value="")}},t.prototype.hashChanged=function(t){this.updateFilterFromUrl(t.newURL)},t.prototype.updateFilterFromUrl=function(t){this.filter=t&&t.split("#/")[1]||"all"},t.prototype.clearCompleted=function(){this.todos=this.todoService.clearCompleted()},t}(),s=function(){function t(){}return t.prototype.render=function(){var t=this;return o("footer",{c:{footer:!0}},this.renderTodoCount(),o("ul",{c:{filters:!0}},o("li",0,o("a",{c:{selected:"all"===this.filter},a:{href:"#/"}},e("All"))),o("li",0,o("a",{c:{selected:"active"===this.filter},a:{href:"#/active"}},e("Active"))),o("li",0,o("a",{c:{selected:"completed"===this.filter},a:{href:"#/completed"}},e("Completed")))),o("button",{c:{"clear-completed":!0},o:{click:function(o){return t.clearCompleted.emit()}}},e("Clear completed")))},t.prototype.renderTodoCount=function(){var t=this.todos.filter(function(t){return!t.completed}).length;return o("span",{c:{"todo-count":!0}},o("strong",0,t),e(" "),t>1||t<1?"items":"item",e(" left"))},t}(),u=function(){function t(){}return t.prototype.render=function(){var t=this;if(this.todo)return o("li",{c:{completed:this.todo.completed,editing:this.editing}},o("div",{c:{view:!0}},o("input",{c:{toggle:!0},o:{change:function(o){return t.toggle(o)}},a:{type:"checkbox"},p:{checked:this.todo.completed}}),o("label",{o:{click:function(o){return t.edit(o)}}},this.todo.title),o("button",{c:{destroy:!0},o:{click:function(o){return t.todoDeleted.emit(t.todo)}}})),o("input",{c:{edit:!0},o:{blur:function(o){return t.doneEdit(o)},keyup:function(o){return t.onKeyUp(o)}},p:{value:this.todo.title}}))},t.prototype.toggle=function(t){t.preventDefault(),this.todo.completed=!this.todo.completed,this.todoEdited.emit(this.todo)},t.prototype.edit=function(t){this.editing=!0;var o=t.target.parentElement;if(o){var e=o.nextElementSibling;if(e instanceof HTMLInputElement){var i=e;setTimeout(function(){return i.focus()},0)}}},t.prototype.onKeyUp=function(t){13!==t.keyCode&&27!==t.keyCode||this.doneEdit(t)},t.prototype.doneEdit=function(t){this.editing=!1,this.todo.title=t.target.value,this.todoEdited.emit(this.todo)},t}(),p=function(){function t(){}return t.prototype.render=function(){return o("section",{c:{main:!0}},o("input",{c:{"toggle-all":!0},a:{id:"toggle-all",type:"checkbox"}}),o("label",{p:{htmlFor:"toggle-all"}},e("Mark all as complete")),o("ul",{c:{"todo-list":!0}},this.todos.map(function(t){return o("todo-item",{p:{todo:t}})})))},t}();t["TODO-APP"]=l,t["TODO-FOOTER"]=s,t["TODO-ITEM"]=u,t["TODO-LIST"]=p},["TODO-APP",[["filter",5],["todos",5]],{}],["TODO-FOOTER",[["filter",1],["todos",1]],{},[["clearCompleted"]]],["TODO-ITEM",[["editing",5],["todo",1]],{},[["todoDeleted"],["todoEdited"]]],["TODO-LIST",[["todos",1]],{}]);